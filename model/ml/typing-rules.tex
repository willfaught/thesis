\begin{figure}[p]
\caption{The ML typing rules.}
\[
% L
\frac
{}
{\judtm{}{\tylump}}
\quad
% N
\frac
{}
{\judtm{}{\tynum}}
\quad
% x
\frac
{}
{\judtm{\envextt{\env}{\tyvarm}}{\tyvarm}}
\]
\[
% {t}
\frac
{\judtm{\env}{\vartym}}
{\judtm{\env}{\tylist{\vartym}}}
\quad
% t->t
\frac
{\judtm{\env}{\first{\vartym}} \quad \judtm{\env}{\second{\vartym}}}
{\judtm{\env}{\tyfun{\first{\vartym}}{\second{\vartym}}}}
\quad
% Au.t
\frac
{\judtm{\env, \tyvarm}{\vartym}}
{\judtm{\env}{\tyfor{\tyvarm}{\vartym}}}
\]
\bigskip
\[
% \x:t.e
\frac
{\judtm{\env}{\first{\vartym}} \quad \judem{\envexte{\env}{\varvarm}{\first{\vartym}}}{\varexpm}{\second{\vartym}}}
{\judem{\env}{(\expfabss{\varvarm}{\first{\vartym}}{\varexpm})}{\tyfun{\first{\vartym}}{\second{\vartym}}}}
\quad
% \\u.e
\frac
{\judem{\envextt{\env}{\tyvarm}}{\varexpm}{\vartym}}
{\judem{\env}{\exptabs{\tyvarm}{\varexpm}}{\tyfor{\tyvarm}{\vartym}}}
\quad
% n
\frac
{}
{\judem{}{\expnum{n}}{\tynum}}
\]
\[
% nil t
\frac
{\judtm{\env}{\vartym}}
{\judem{\env}{\expnils{\vartym}}{\tylist{\vartym}}}
\quad
% cons e e
\frac
{\judem{\env}{\first{\varexpm}}{\vartym} \quad \judem{\env}{\second{\varexpm}}{\tylist{\vartym}}}
{\judem{\env}{\expcons{\first{\varexpm}}{\second{\varexpm}}}{\tylist{\vartym}}}
\quad
% x
\frac
{}
{\judem{\envexte{\env}{\varvarm}{\vartym}}{\varvarm}{\vartym}}
\]
\[
% e e
\frac
{\judem{\env}{\first{\varexpm}}{\tyfun{\first{\vartym}}{\second{\vartym}}} \quad \judem{\env}{\second{\varexpm}}{\first{\vartym}}}
{\env\symjudh\expfapp{\first{\varexpm}}{\second{\varexpm}}:\second{\vartym}}
\quad
% e <t>
\frac
{\judtm{\env}{\first{\vartym}} \quad \judem{\env}{\varexpm}{\tyfor{\tyvarm}{\second{\vartym}}}}
{\judem{\env}{\exptapp{\varexpm}{\first{\vartym}}}{\tysubst{\second{\vartym}}{\first{\vartym}}{\tyvarm}}}
\]
\[
% a e e
\frac
{\judem{\env}{\first{\varexpm}}{\tynum} \quad \judem{\env}{\second{\varexpm}}{\tynum}}
{\judem{\env}{\expop{\first{\varexpm}}{\second{\varexpm}}}{\tynum}}
\quad
% if0 e e e
\frac
{\judem{\env}{\first{\varexpm}}{\tynum} \quad \judem{\env}{\second{\varexpm}}{\vartym} \quad \judem{\env}{\third{\varexpm}}{\vartym}}
{\judem{\env}{\expif{\first{\varexpm}}{\second{\varexpm}}{\third{\varexpm}}}{\vartym}}
\]
\[
% null? e
\frac
{\judem{\env}{\varexpm}{\tylist{\vartym}}}
{\judem{\env}{\exppnull{\varexpm}}{\tynum}}
\quad
% hd e
\frac
{\judem{\env}{\varexpm}{\tylist{\vartym}}}
{\judem{\env}{\exphd{\varexpm}}{\vartym}}
\quad
% tl e
\frac
{\judem{\env}{\varexpm}{\tylist{\vartym}}}
{\judem{\env}{\exptl{\varexpm}}{\tylist{\vartym}}}
\]
\[
% wrong t string
\frac
{\judtm{\env}{\vartym}}
{\judem{\env}{\expwrongs{\vartym}{\formvar{string}}}{\vartym}}
\quad
% ms t e
\frac
{\judtm{\env}{\tyunbrand{\varcsm}} \quad \judes{\env}{\varexps}{\tytst}}
{\judem{\env}{\expms{\varcsm}{\varexps}}{\tyunbrand{\varcsm}}}
\]
\[
% mh k k e
\frac
{\judtm{\env}{\vartym} \quad \judth{\env}{\first{\vartyh}} \quad \judeh{\env}{\varexph}{\second{\vartyh}} \quad \vartym \eq \vartyh \quad \first{\vartyh} = \second{\vartyh}}
{\judem{\env}{\expmh{\vartym}{\vartyh}{\first{\varexph}}}{\vartym}}
\]
\label{figmtr}
\end{figure}