\begin{figure}[p]
\caption{Scheme typing rules.}
\[
% TST
\frac
{}
{\judts{}{\tytst}}
\]
\bigskip
\[
% \x.e
\frac
{\judes{\envexte{\env}{\varvars}{\tytst}}{\varexps}{\tytst}}
{\judes{\env}{\expfabsd{\varvars}{\varexps}}{\tytst}}
\quad
% n
\frac
{}
{\judes{}{\expnum{n}}{\tytst}}
\quad
% nil
\frac
{}
{\judes{}{\expnild}{\tytst}}
\]
\[
% cons e e
\frac
{\judes{\env}{\first{\varexps}}{\tytst} \quad \judes{\env}{\second{\varexps}}{\tytst}}
{\judes{\env}{\expcons{\first{\varexps}}{\second{\varexps}}}{\tytst}}
\quad
% x
\frac
{}
{\judes{\envexte{\env}{\varvars}{\tytst}}{\varvars}{\tytst}}
\]
\[
% e e
\frac
{\judes{\env}{\first{\varexps}}{\tytst} \quad \judes{\env}{\second{\varexps}}{\tytst}}
{\env\symjudh\expfapp{\first{\varexps}}{\second{\varexps}}:\tytst}
\quad
% f e
\frac
{\judes{\env}{\varexps}{\tytst}}
{\judes{\env}{\expfield{\varexps}}{\tytst}}
\]
\[
% + e e
\frac
{\judes{\env}{\first{\varexps}}{\tytst} \quad \judes{\env}{\second{\varexps}}{\tytst}}
{\judes{\env}{\expop{\first{\varexps}}{\second{\varexps}}}{\tytst}}
\quad
% p e
\frac
{\judes{\env}{\varexps}{\tytst}}
{\judes{\env}{\exppred{\varexps}}{\tytst}}
\]
\[
% if0 e e e
\frac
{\judes{\env}{\first{\varexps}}{\tytst} \quad \judes{\env}{\second{\varexps}}{\tytst} \quad \judes{\env}{\third{\varexps}}{\tytst}}
{\judes{\env}{\expif{\first{\varexps}}{\second{\varexps}}{\third{\varexps}}}{\tytst}}
\quad
% wrong string
\frac
{}
{\judes{}{\expwrongd{\formvar{string}}}{\tytst}}
\]
\[
% sh k e
\frac
{\judth{\env}{\tyunbrand{\varcsh}} \quad \judeh{\env}{\varexph}{\vartyh} \quad \tyunbrand{\varcsh} = \vartyh}
{\judes{\env}{\expsh{\varcsh}{\varexph}}{\tytst}}
\quad
% sm k e
\frac
{\judtm{\env}{\tyunbrand{\varcsm}} \quad \judem{\env}{\varexpm}{\vartym} \quad \tyunbrand{\varcsm} = \vartym}
{\judes{\env}{\expsm{\varcsm}{\varexpm}}{\tytst}}
\]
\label{figstr}
\end{figure}